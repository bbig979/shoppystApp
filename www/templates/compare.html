<ion-view class="post-list" id="compare" view-title="TOP OUTFITS LIKED">
    <ion-content>
        <div class="list sort">
            <label class="item item-input item-select">
                <div class="input-label">
                    By Gender
                </div>
                <select ng-model="sort.gender" ng-change="sortPosts(sort)" ng-options="opt.label for opt in genderList">
                    <option value="">All</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                </select>
            </label>
            <label class="item item-input item-select">
                <div class="input-label">
                    By Age Group
                </div>
                <select ng-model="sort.age" ng-change="sortPosts(sort)" ng-options="opt.label for opt in ageList">
                    <option value="">All</option>
                </select>
            </label>
        </div>
        <ion-list>
            <div>
                <ion-item collection-repeat="post in posts" class="post item post_{{post.id}}" collection-item-width="'100%'">
                    <ion-item style="background-image: url({{ photoPath( post.photos[0].img_path, 'm' ) }})" ng-click="goPostDetail(post.id)">
                        <a class="post_img"></a>
                        <div class="ranking">{{posts.indexOf(post) + 1}}</div>
                    </ion-item>
                    <div>
                        <div class="desc_row">
                            <div class="profile-image" style="background-image: url( {{ photoPath( post.user.profile_img_path, 's' ) }} )" ng-click="goAccount(post.user.slug)"></div>
                            <div class="user-name" ng-click="goAccount(post.user.slug)">{{post.user.first_name}} {{post.user.last_name}}</div>
                        </div>
                        <div class="desc_row">
                            <span class="likes-count"><i class="ion-ios-heart"></i> {{ likesCount(post) }} likes</span>
                        </div>
                        <div class="desc_row">
                            <span class="desc_stat"><i class="fa {{getCardGenderStatIcon(post.post_analytic)}}" aria-hidden="true"></i> {{getMaxStat(post.post_analytic, 'gender')}}% &nbsp; {{getMaxStat(post.post_analytic, 'age')}}%</span>
                        </div>
                        <div class="desc_row">
                            <span class="time-ago grey-small-font desc_time" ng-if="post"><i class="fa {{post.time_icon}}" aria-hidden="true"></i> {{post.created_from}} Left</span>
                        </div>
                        <div class="add_to_compare">
                            <button class= "button button-clear button-dark icon like-button" ng-click="likeClicked($event,post)" ng-class="post.user_liked ? 'ion-ios-heart' : 'ion-ios-heart-outline'" ng-if="notMe(post)"></button>
                            <button class="button button-clear button-dark icon add-compare-button" ng-class="{true: 'ion-minus', false: 'ion-plus'}[compareIndexList[post.id]]" ng-click="removeCompare(post)"></button>
                        </div>
                    </div>
                </ion-item>
            </div>
        </ion-list>
    </ion-content>
</ion-view>
