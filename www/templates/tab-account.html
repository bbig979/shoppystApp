<ion-view id="tab-account" class="masonry-post-list" view-title="PROFILE">
    <ion-content>
        <ion-refresher
                pulling-text="Pull to refresh..."
                on-refresh="doRefresh()">
        </ion-refresher>
        <div class="account-top">
            <button class="button button-clear icon ion-gear-b account-option-btn" ng-click="goAccountOption()" ng-if="!notMe(account_info)"></button>
            <button class="button button-small follow-toggle" ng-class="{'following' : account_info.following_check}" ng-click="followToggle(account_info)" ng-if="notMe(account_info)"></button>
            <div class="account-image" style="background: url({{accountImage}})" ng-click="changeProfilePicture()"></div>
            <div class="user-name">
                <ion-spinner icon="ios-small" ng-if="!account_info"></ion-spinner>
                {{ account_info.first_name }} {{ account_info.last_name }}
            </div>
            <div class="user-school" ng-click="goSchoolDetail(account_info.school.id, account_info.school.name)" ng-if="account_info.school.id != 0">{{ account_info.school.name }}</div>
            <div class="user-joined">Joined at <span class="time-ago" am-time-ago="account_info.created_at | amUtc" ng-if="account_info"></span></div>
            <div class="account-achievement row">
                <div class="account-post-btn col" ng-click="goAccountPost()"><span class="ion-camera"></span><br>{{account_info.posts_count}}<br>Posts</div>
                <div class="account-like-btn col"><span class="ion-ios-heart"></span><br>{{account_info.likes_count}}<br>Likes</div>
                <div class="account-followers-btn col" ng-click="goAccountFollower(account_info.slug, account_info)"><span class="ion-ios-people"></span><br><span class="dynamic-follower-count">{{account_info.follower_count}}</span><br>Followers</div>
                <div class="account-following-btn col" ng-click="goAccountFollowing(account_info.slug,account_info)"><span class="ion-android-person"></span><br><span class="dynamic-following-count">{{account_info.following_count}}</span><br>Following</div>
            </div>
            <div class="account-social-network row">
                <div class="button button-clear icon col account-facebook-btn clearfix" ng-click="goAccountSocialNetwork('facebook')" ng-if="account_info.social_networks.facebook"><span class="ion-social-facebook"></span></div>
                <div class="button button-clear icon col ion-social-twitter account-twitter-btn clearfix" ng-click="goAccountSocialNetwork('twitter')" ng-if="account_info.social_networks.twitter"><span class="ion-social-facebook"></span></div>
                <div class="button button-clear icon col ion-social-instagram-outline account-instagram-btn clearfix" ng-click="goAccountSocialNetwork('instagram')" ng-if="account_info.social_networks.instagram"><span class="ion-social-facebook"></span></div>
                <div class="button button-clear icon col ion-social-pinterest account-pinterest-btn clearfix" ng-click="goAccountSocialNetwork('pinterest')" ng-if="account_info.social_networks.pinterest"><span class="ion-social-facebook"></span></div>
            </div>
            <div class="tabs-striped" ng-hide="notMe(account_info)">
                <div class="tabs">
                    <a class="tab-item" ng-click="activateTab('best')" ng-class="{'activatedd' : activatedTab == 'best' }">
                        Best
                    </a>
                    <a class="tab-item" ng-click="activateTab('new')" ng-class="{'activatedd' : activatedTab == 'new' }">
                        New
                    </a>
                </div>
            </div>
            <div class="tabs-striped" ng-hide="notMe(account_info)">
                <div class="tabs">
                    <a class="tab-item" ng-click="activateTab('best')" ng-class="{'activatedd' : activatedTab == 'best' }">
                        <span ng-hide="notMe(account_info)">Best</span>
                    </a>
                    <a class="tab-item" ng-click="activateTab('new')" ng-class="{'activatedd' : activatedTab == 'new' }">
                        <span ng-hide="notMe(account_info)">New</span>
                    </a>
                </div>
            </div>
        </div>
        <div class="no-result" ng-if="noResult">
            No look posted today
        </div>
        <div class="loading-spinner" data-loading ng-if="posts.length == 0">
            <ion-spinner></ion-spinner>
        </div>
        <ion-list>
            <div>
                <ion-item ng-repeat="post in posts" class="post" style="background-image: url({{ photoPath( post.photos[0].img_path, 'm' ) }})" ng-click="goPostDetail(post.id, account_info, posts, $index)">
                    <a></a>
                    <div class="profile-post-like-count"><i class="ion-heart"></i> {{post.aggregate}}</div>
                </ion-item>
            </div>
        </ion-list>
        <ion-infinite-scroll ng-if="!noMoreItemsAvailable" on-infinite="loadMore()" distance="10%" immediate-check="false"></ion-infinite-scroll>
    </ion-content>
</ion-view>
