<ion-view class="post-card-list-two-columns" id="{{config.view}}" view-title="<snap-title>{{config.title}}</snap-title>">
    <ion-content scroll-watch ng-class="{
        'has-blocker-message': blockerMessage.isNeeded()
    }">
        <ion-refresher
                pulling-text="Pull to refresh..."
                on-refresh="refresh()">
        </ion-refresher>
        <ion-list>
            <div class="filters" ng-if="searchFilter.isVisible()">
                <div class="filter gender">
                    <div class="label">Gender</div>
                    <a ng-class="{ active: searchFilter.get('gender') === '' }" ng-click="filter('gender', '')">PND</a>
                    <a ng-class="{ active: searchFilter.get('gender') === 'non_binary' }" ng-click="filter('gender', 'non_binary')">Non-binary</a>
                    <a ng-class="{ active: searchFilter.get('gender') === 'female' }" ng-click="filter('gender', 'female')">Female</a>
                    <a ng-class="{ active: searchFilter.get('gender') === 'male' }" ng-click="filter('gender', 'male')">Male</a>
                    <a ng-class="{ active: searchFilter.get('gender') === 'all' }" ng-click="filter('gender', 'all')">All</a>
                </div>
                <div class="filter age">
                    <div class="label">Age</div>
                    <a ng-class="{ active: searchFilter.get('age') === 0 }" ng-click="filter('age', 0)">PND</a>
                    <a ng-class="{ active: searchFilter.get('age') === 50 }" ng-click="filter('age', 50)">50 <</a>
                    <a ng-class="{ active: searchFilter.get('age') === 40 }" ng-click="filter('age', 40)">40s</a>
                    <a ng-class="{ active: searchFilter.get('age') === 30 }" ng-click="filter('age', 30)">30s</a>
                    <a ng-class="{ active: searchFilter.get('age') === 20 }" ng-click="filter('age', 20)">20s</a>
                    <a ng-class="{ active: searchFilter.get('age') === 10 }" ng-click="filter('age', 10)">10s</a>
                    <a ng-class="{ active: searchFilter.get('age') === 'all' }" ng-click="filter('age', 'all')">All</a>
                </div>
            </div>
            <!--
            <div class="button-bar-wrapper" ng-if="searchFilter.isInitiated()">
                <div class="button-bar">
                  <a ng-class="{ active: searchFilter.get('partner') === true }" class="button button-small" ng-click="filter('partner', true)">FEATURED</a>
                  <a ng-class="{ active: searchFilter.get('partner') === false }" class="button button-small" ng-click="filter('partner', false)">ALL</a>
                </div>
            </div>
            -->
            <div class="loading-spinner" data-loading ng-if="is_list_loading">
                <ion-spinner></ion-spinner>
            </div>
            <div class="no-result" ng-if="list.length == 0 && is_result_empty" ng-bind-html="config.no_result_message">
            </div>
            <div>
                <ion-item collection-repeat="post in list track by $index" class="post-card" ng-class="$even ? 'even' : 'odd'">
                    <div class="entity-id-{{post.id}}" ng-click="goPostDetail(post)">
                        <div class="photo-img-wrapper entity-id-{{post.photos[0].id}}" style="background-image: url({{ photoPath( post.photos[0].img_path, 'l' ) }})">
                            <a class="photo-img"></a>
                        </div>
                    </div>
                    <i class="ion-ios-browsers"></i>
                </ion-item>
            </div>
        </ion-list>
        <ion-infinite-scroll ng-if="is_infinite_loading_unlocked && !is_pagination_done" on-infinite="loadMore()" distance="30%" immediate-check="false"></ion-infinite-scroll>
    </ion-content>
    <div class="bar bar-header search-bar">
        <div class="item-input-inset" ng-click="goPostSearch()">
            <label class="item-input-wrapper">
                <i class="icon ion-ios-search placeholder-icon"></i>
                <input type="search" placeholder="Search" disabled>
            </label>
        </div>
        <i class="button button-small icon fa fa-filter filter-button" ng-class="{'filter-on': ! searchFilter.isDefault()}" ng-click="searchFilter.toggleVisibility()">
            <i class="fa fa-chevron-down" ng-show="! searchFilter.isVisible()" aria-hidden="true"></i>
            <i class="fa fa-chevron-up" ng-show="searchFilter.isVisible()" aria-hidden="true"></i>
        </i>
    </div>
</ion-view>
